{% include base_path %}

{% if post.header.teaser %}
  {% capture teaser %}{{ post.header.teaser }}{% endcapture %}
{% else %}
  {% assign teaser = site.teaser %}
{% endif %}

{% if post.id %}
  {% assign title = post.title | markdownify | remove: "<p>" | remove: "</p>" %}
{% else %}
  {% assign title = post.title %}
{% endif %}

<div class="{{ include.type | default: "list" }}__item exam-course-item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    {% if include.type == "grid" and teaser %}
      <div class="archive__item-teaser">
        <img src=
          {% if teaser contains "://" %}
            "{{ teaser }}"
          {% else %}
            "{{ teaser | prepend: "/images/" | prepend: base_path }}"
          {% endif %}
          alt="">
      </div>
    {% endif %}

    <div class="exam-course-header">
      <h2 class="archive__item-title course-title" itemprop="headline">
        {% if post.link %}
          <a href="{{ post.link }}">{{ title }}</a> <a href="{{ base_path }}{{ post.url }}" rel="permalink"><i class="fa fa-link" aria-hidden="true" title="permalink"></i><span class="sr-only">Permalink</span></a>
        {% else %}
          <a href="{{ base_path }}{{ post.url }}" rel="permalink">{{ title }}</a>
        {% endif %}
      </h2>
      
      <!-- 简化的课程信息 -->
      <div class="course-meta">
        {% if post.type %}
          <span class="course-type">{{ post.type }}</span>
        {% endif %}
        
        {% if post.venue %}
          <span class="course-venue">{{ post.venue }}</span>
        {% endif %}
        
        {% if post.date %}
          <span class="course-date">{{ post.date | date: "%Y年" }}</span>
        {% endif %}
        
        {% if post.grade %}
          <span class="course-grade">成绩: {{ post.grade }}</span>
        {% endif %}
        
        {% if post.instructor %}
          <span class="course-instructor">{{ post.instructor }}</span>
        {% endif %}
      </div>
    </div>

    {% if post.excerpt and site.read_more != 'enabled' %}
      <p class="archive__item-excerpt" itemprop="description">{{ post.excerpt | markdownify }}</p>
    {% elsif post.excerpt and site.read_more == 'enabled' %}
      <p class="archive__item-excerpt" itemprop="description"><p>{{ post.excerpt | markdownify | remove: '<p>' | remove: '</p>' }}<strong><a href="{{ base_path }}{{ post.url }}" rel="permalink"> 查看课程试卷</a></strong></p></p>
    {% endif %}

    <!-- 简化的提示信息 -->
    <div class="course-notice">
      <small>点击课程名称进入详情页</small>
    </div>

  </article>
</div>
<style>
.exam-course-item {
  border: 1px solid #e0e0e0;
  border-radius: 8px;
  padding: 1.5rem;
  margin-bottom: 1.5rem;
  background: white;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  transition: all 0.3s ease;
}

.exam-course-item:hover {
  box-shadow: 0 4px 8px rgba(0,0,0,0.15);
  transform: translateY(-2px);
}

.exam-course-header {
  margin-bottom: 0rem;
}

.archive__item-title {
  margin-bottom: 0rem;
}

.archive__item-title a {
  color: #2c3e50;
  text-decoration: none;
  font-size: 1.4rem;
  font-weight: 600;
}

.archive__item-title a:hover {
  color: #3498db;
}

.course-meta {
  display: flex;
  flex-wrap: wrap;
  gap: 1rem;
  font-size: 0.9rem;
  color: #666;
}

.course-meta span {
  background: #f8f9fa;
  padding: 0.25rem 0.75rem;
  border-radius: 15px;
  border: 1px solid #e9ecef;
}

.course-type {
  background: #e3f2fd !important;
  border-color: #bbdefb !important;
  color: #1976d2;
}

.course-venue {
  background: #e8f5e8 !important;
  border-color: #c8e6c9 !important;
  color: #388e3c;
}

.course-date {
  background: #fff3e0 !important;
  border-color: #ffe0b2 !important;
  color: #f57c00;
}

.course-notice {
  margin-top: 1rem;
  padding-top: 1rem;
  border-top: 1px solid #f0f0f0;
  color: #6c757d;
  font-size: 0.9rem;
  text-align: center;
}

/* 搜索相关样式 */
.search-highlight {
  background-color: #fff3cd;
  padding: 2px 4px;
  border-radius: 2px;
}

/* 响应式设计 */
@media (max-width: 768px) {
  .exam-course-item {
    padding: 1rem;
  }
  
  .archive__item-title a {
    font-size: 1.2rem;
  }
  
  .course-meta {
    gap: 0.5rem;
  }
  
  .course-meta span {
    font-size: 0.8rem;
    padding: 0.2rem 0.5rem;
  }
}
</style>
